<div class="reports-container">
  <h1>Relatórios</h1>

  @if (totalTaskCount() > 0) {
    <div class="stats-grid">
      <mat-card>
        <mat-card-header>
          <mat-card-title>Resumo Geral</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <p>Total de tarefas registradas: <strong>{{ totalTaskCount() }}</strong></p>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Tarefas por Status</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            @for (status of objectKeys(tasksByStatus()); track status) {
              <mat-list-item>
                <span class="stat-label">{{ status }}:</span>
                <span class="stat-value">{{ tasksByStatus()[status] }}</span>
              </mat-list-item>
            }
          </mat-list>
        </mat-card-content>
      </mat-card>

      <mat-card>
        <mat-card-header>
          <mat-card-title>Tarefas por Categoria</mat-card-title>
        </mat-card-header>
        <mat-card-content>
          <mat-list>
            @for (category of objectKeys(tasksByCategory()); track category) {
              <mat-list-item>
                <span class="stat-label">{{ category }}:</span>
                <span class="stat-value">{{ tasksByCategory()[category] }}</span>
              </mat-list-item>
            }
          </mat-list>
        </mat-card-content>
      </mat-card>
    </div>
  } @else {
    <p>Ainda não há tarefas para gerar relatórios. Comece a adicionar algumas!</p>
  }
</div>
